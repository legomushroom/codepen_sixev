hl(size=2px, color=red)
	outline size solid color


transform()
	-webkit-transform arguments
	-moz-transform arguments
	-ms-transform arguments
	-o-transform arguments
	transform arguments

backface-visibility()
	-webkit-backface-visibility arguments
	-moz-backface-visibility arguments
	-ms-backface-visibility arguments
	backface-visibility arguments

transform-origin()
	-webkit-transform-origin arguments
	-moz-transform-origin arguments
	-ms-transform-origin arguments
	-o-transform-origin arguments
	transform-origin arguments

transform-style()
	-webkit-transform-style arguments
	-moz-transform-style arguments
	-ms-transform-style arguments
	transform-style arguments

animation()
	-webkit-animation arguments
	-moz-animation arguments
	-ms-animation arguments
	animation arguments

rect()
	width  arguments
	height arguments

PX = (1/16)em
.dome
	position absolute
	display inline-block
	// backface-visibility hidden
	fill #f9f1dd
	&:nth-of-type(odd)
		fill #ff6d6a

.carousel--3d
	animation rotate 20s linear infinite

.carousel--scene
	transform perspective(200000*PX) rotateX(90deg) rotateZ(50deg) translateZ(250*PX)
	transform-origin 50% 50%
	margin-left -50%
	margin-top  -50%
	left 50%
	top 50%
	// hl 10px

@keyframes rotate
	0%
		transform rotateY(0)
	
	100%
		transform rotateY(-360deg)

for i in 1..36
	.s{i}
		transform translate3d(-60*PX, 0, 0) rotateZ(i*10deg) rotateX(-39.5deg) scaleZ(1);
		transform-origin 50% top 0; 
		width: 50*PX
		height: 370.5*PX

.carousel
	position relative
	width  500*PX
	height 500*PX
	transform scale(.55)
	svg
		position absolute
		backface-visibility hidden
	

.carousel--3d, .carousel--scene, .carousel--stage
	transform-style:preserve-3d
	position:absolute
	width:100%
	height:100%

.carousel--stage
	left:57%
	top:50%
	opacity:1


width = 8.3em
height = 5em
.banner
	width width
	height height
	top -(height/2)
	left -(width/2) + (3.1581877625221533/2)em
	background-color #f6c855
	position absolute
	border-radius 50%
.banner--text
	font-size 50*PX
	color white
	text-align center
	line-height 25*PX
	position relative
	z-index 1
	display none
size = 28*PX
.banner--circle
	position absolute
	top 50%
	left -(size/2)
	margin-top -(size/2)
	width  size
	height size
	background-color inherit
	border-radius    inherit

	size = 4*PX
	&:after
		content ''
		position absolute
		top 50%
		left 50%
		margin-left - (size/2)
		margin-top  - (size/2)
		width  size
		height size
		background-color white
.banner--circle-right
	right -(size/2)
	left auto


size = 5em
.icon-banner
	width  size
	height size
	position absolute
	top 50%
	left 0
	margin-top  -(size/2)
	margin-left -(size/2)
	background-color #faf4e5
	border-radius 50%
	backface-visibility visible

width = 2.5em
.carousel-top
	width  width
	height 5em
	position absolute
	top -5em
	left 50%
	margin-left -(width/2)
	
	.carousel-top--circle-large, .carousel-top--circle-small
		width width
		height width
		background-color #f6c855
		position absolute
		bottom 0
		border-radius 50%
		box-shadow inset 0 -6*PX 0 rgba(0,0,0,.15)

	.carousel-top--circle-small
		width  (width/1.75)
		height (width/1.75)
		bottom width + 6*PX
		box-shadow inset 0 -4*PX 0 rgba(0,0,0,.15)
		left 50%
		margin-left -((width/1.75)/2)

		&:after
			content ''
			position absolute
			width 6*PX
			height 2em
			background #d4b05c
			left 8*PX
			z-index -1

		&:before
			content ''
			position absolute
			border 4*PX solid rgba(#f6c855,0)
			border-bottom 2em solid #f6c855
			top - 36*PX
			left 8*PX
			z-index -1


.carousel-bottom
	position absolute
	width 36em - 10*PX
	z-index 1
	height   2.5em
	bottom 	-4.75em
	margin-left - 2em
	background-color #dd5754
	transform translateZ(400*PX)

	.carousel-bottom--top, .carousel-bottom--bottom
		width 36em - 1*PX
		background-color #891b1b
		height .25em
		margin-left - 5*PX
		position absolute
		border-radius 2*PX
		// display none

	.carousel-bottom--bottom
		bottom 0

	.carousel-bottom--bottom2
		position absolute
		width 32em
		height .5em
		bottom -.5em
		left 1.5em
		background-color #9b2e2e

	.carousel-bottom--bottom3
		position absolute
		height 1em + 2*PX
		width  7em
		left 50%
		margin-left -3.5em
		bottom -1.5em - 2*PX
		background-color #571313


.cylinder-1 
	.face
		background-color #dd5754 
		border-bottom-left-radius  40*PX
		border-bottom-right-radius 40*PX
		&:nth-of-type(odd)
			background-color #e1d7be
		&.face.bm
			background-color #ff6d6a !important

.scene, .shape, .face, .face-wrapper, .cr
	position: absolute;
	transform-style preserve-3d

.scene
	width: 80em;
	height: 80em;
	top: 50%;
	left: 57%;
	margin: -40em 0 0 -40em;
	transform rotateX(-90deg) rotateY(5deg) translate3d(-33px,234px,-22px)
	transform-origin 50% 50%

.shape
	top: 50%;
	left: 50%;
	width: 0;
	height: 0;
	transform-origin 50%

.face, .face-wrapper
	transform-origin 0 0
	backface-visibility hidden
	/* hidden by default, prevent blinking and other weird rendering glitchs */

.face-wrapper .face
	left: 100%;
	width: 100%;
	height: 100%

// .photon-shader
// 	position: absolute;
// 	left: 0;
// 	top: 0;
// 	width: 100%;
// 	height: 100%

.side
	left: 50%

.cr, .cr .side
	height: 100%

/* .cyl-1 styles */
.cyl-1
	transform translate3d(-0.1875em, 2.0625em, 1.1875em) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
	opacity:1;
	width:35.8125em;
	height:4em;
	margin:-2em 0 0 -17.90625em;
	.side
		width:3.1581877625221533em
		height:4em
	.bm
		width:35.8125em
		height:35.8125em
		border-radius: 50%
		transform: rotateX(-90deg) translateY(-50%)
		top: 65%

	start = 5
	for i in 1..37
		.s{i}
			transform rotateY((start+(i*10))deg) translate3d(-50%, 0, 17.88125em)

r = 0
xz = -11.091666666666663em, -9.958333333333334em, 0, -14em, 10.658333333333337em, -10.250000000000002em, 15.666666666666666em, 0.08333333333333333em, 11.450000000000003em, 10.895833333333334em, -11.070833333333331em, 11.979166666666666em, -16em, 0, 0, 16.583333333333332em
for i in 2..9
	/* .cyl-2 styles */
	.cyl-{i}
		transform translate3d(xz[r], 10.249999999999998em, xz[r+1]) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
		opacity:1;
		width:.25em;
		height:17em;
		margin:-7.5em 0 0 -0.125em;
		.side
			width:0.4580127018922192em
			height:17em
			backface-visibility visible

		.face, .side
			background-color:#faf4e5

		start = 60
		for j in 0..2
			.s{j}
				transform rotateY((start+(j*120))deg) translate3d(-50%, 0, 0.1em)
	
	r += 2
	